
import type { NextPage } from 'next'
import Head from 'next/head';
import ProdList from '../components/lists/prodList';
import MainCarousel from '../components/widgets/mainCarousel';
import { Container} from 'react-bootstrap';
import {useSelector  } from "react-redux";
import { selectLayoutState } from '../store/layoutSlice';
import { layoutItem } from '../types/layoutItem';
import { getServerSideProps } from '../utils/serverProp';


const Home: NextPage = (props:any) => {

  // const dispatch=useDispatch()
  const mlayout=useSelector(selectLayoutState)


  return (
    <>
      <Head>
        <title>Store-App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      {mlayout.main.items.map((item:layoutItem,key:any)=>{
        return <Container  key={key} fluid className={item.item_type==='slider' ? 'px-0' : ''} >
          {item.item_type==='slider' ? <MainCarousel></MainCarousel> : <></>  } 
          {(item.item_type==='list') ? <ProdList list={item.attachment.products} ></ProdList> :<></>}
        </Container>
      })}
    </>
  )
}




export { getServerSideProps };


export default Home;

